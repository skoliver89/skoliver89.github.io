
@{
    ViewBag.Title = "Page 3";
}

<div class="page-header">
    <h2>Page3 - Auto Loan EMI Calculator</h2>
<p>
    "An equated monthly installment (EMI) is a fixed payment amount made by a borrower to a lender at a specified date each calendar month. 
    Equated monthly installments are used to pay off both interest and principal each month so that over a specified number of years, the 
    loan is paid off in full. With most common types of loans, such as real estate mortgages, the borrower makes fixed periodic payments
    to the lender over the course of several years with the goal of retiring the loan." -<a href="http://www.investopedia.com/terms/e/equated_monthly_installment.asp">Investopedia</a>
</p>
    <a href="https://www.easycalculation.com/mortgage/auto-loan-emi.php">Outside Calculator to check my work</a>
</div>
<div class="container">
    <form method="post" class="form-horizontal">
        <div class="form-group">
            <label for="amount">Loan Amount ($)</label>
            <input type="number" class="form-control" name="amount" value="1.00" min="1" step="0.01" />
            <br />
            <label for="down">Down Payment ($)</label>
            <input type="number" class="form-control" name="down" value="0.00" min="0" step="0.01" />
            <br />
            <label for="rate">Annual Interest Rate (%)</label>
            <input type="number" class="form-control" name="rate" value="0.01" min="0.01"  step="0.01" />
            <br />
            <label for="term">Loan period (Months)</label>
            <input type="number" class="form-control" name="term" value="1" min="1" step="1" />
            <br />
            <button type="submit" class="btn btn-primary">Calculate</button>
        </div>
    </form>
</div>

@if (IsPost)
{
    if (ViewBag.status == "ok")
    {
        <br />
        <div class="alert alert-success">
            <dl class="list-group">
                <dt class="list-group-item-heading">
                    Monthly Payment:
                </dt>
                <dd class="list-group-item">
                    @ViewBag.message
                </dd>
                <dt class="list-group-item-heading">
                    Total Amount to Pay:
                </dt>
                <dd class="list-group-item">
                    @ViewBag.message2
                </dd>
                <dt class="list-group-item-heading">
                    Total Interest Payment:
                </dt>
                <dd class="list-group-item">
                    @ViewBag.message3
                </dd>
            </dl>
        </div>
    }
    if (ViewBag.status == "error")
    {
        <div class="alert alert-danger">
            <dl class="list-group">
                <dt class="list-group-item-heading">
                    Error:
                </dt>
                <dd class="list-group-item">
                    @ViewBag.message
                </dd>
            </dl>
        </div>
    }
}